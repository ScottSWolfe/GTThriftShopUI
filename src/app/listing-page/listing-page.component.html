<mat-card class="listing-view-card">
  <div class="listing-view-image" [ngStyle]="{ 'background-image': 'url(' + listing.imageUrl + ')'}"></div>
  <div class="listing-view-text">
    <div class="listing-view-name">
      <a routerLink="/listings/{{listing._id}}">{{listing.name}}</a>
      <mat-label class="listing-posted-date" >{{listing.createdAt | date: 'dd/MM/yyyy'}}</mat-label>
    </div>
    <div class="listing-view-seller">
      <a routerLink="/users/{{listing?.user?._id}}">{{listing.user.firstName}} {{listing.user.lastName}}</a>
      - {{(listing.userRating) ? (listing.userRating).toFixed(0) + "% positive ratings" : "Not Rated"}}
    </div>
    <div class="listing-view-description">
      {{listing.description}}
    </div>
  </div>
  <div class="listing-view-card-right-content">
    <div class="listing-view-price">
      {{(listing.price) ? '$'+(listing.price) : ''}}
    </div>
    <a *ngIf="!(listing.user._id === currentUser._id)">
      <mat-icon class="flag-button" (click)="openFlagModal(listing)">flag</mat-icon>
    </a>
    <a *ngIf="userOwnsListing()">
      <mat-icon class="flag-button" (click)="openEditListingModal()" >edit</mat-icon>
    </a>
  </div>
</mat-card>
